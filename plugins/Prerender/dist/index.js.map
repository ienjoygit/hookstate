{"version":3,"file":"index.js","sources":["../src/Prerender.ts"],"sourcesContent":["import React from 'react';\nimport { StateLink, Prerender, useStateLink } from '@hookstate/core';\nimport isEqual from 'lodash.isequal';\n\n// tslint:disable-next-line: function-name\nexport function EqualsPrerender<S, E extends {}, R>(\n    transform: (state: StateLink<S, E>, prev: R | undefined) => R) {\n    return (link: StateLink<S, E>, prev: R | undefined) => {\n        link.with(Prerender).extended.enablePrerender(isEqual);\n        return transform(link, prev);\n    }\n}\n\nexport function ScopedPrerender<S, E extends {}>(props: {\n    state: StateLink<S, E>,\n    children: (state: StateLink<S, E>) => React.ReactElement\n}) {\n    const scoped = useStateLink(props.state);\n    return props.children(scoped);\n}\n"],"names":["Prerender","useStateLink"],"mappings":";;;;;;;;;AAIA;AACA,SAAgB,eAAe,CAC3B,SAA6D;IAC7D,OAAO,UAAC,IAAqB,EAAE,IAAmB;QAC9C,IAAI,CAAC,IAAI,CAACA,cAAS,CAAC,CAAC,QAAQ,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QACvD,OAAO,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;KAChC,CAAA;CACJ;AAED,SAAgB,eAAe,CAAkB,KAGhD;IACG,IAAM,MAAM,GAAGC,iBAAY,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IACzC,OAAO,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;CACjC;;;;;"}