{"version":3,"file":"index.es.js","sources":["../src/Untracked.ts"],"sourcesContent":["\nimport { Plugin, StateLink, SetPartialStateAction, State, StateMarkerID, self } from '@hookstate/core';\n\nexport interface UntrackedExtensions<S> {\n    get(): S;\n    set(newValue: React.SetStateAction<S>): void;\n    merge(mergeValue: SetPartialStateAction<S>): void;\n}\n\nconst PluginID = Symbol('Untracked');\nexport function Untracked(): Plugin;\nexport function Untracked<S>($this: StateLink<S>): UntrackedExtensions<S>;\nexport function Untracked<S>($this: State<S>): UntrackedExtensions<S>;\nexport function Untracked<S>($this?: State<S> | StateLink<S>): Plugin | UntrackedExtensions<S> {\n    if ($this) {\n        if ($this[StateMarkerID]) {\n            const th = $this as State<S>;\n            const [_, controls] = th[self].attach(PluginID);\n            return {\n                get: () => controls.getUntracked(),\n                set: (v) => controls.setUntracked(v),\n                merge: (v) => controls.mergeUntracked(v)\n            }\n            \n        } else {\n            const link = ($this as StateLink<S>).with(PluginID)[0];\n            return {\n                get: () => link.getUntracked(),\n                set: (v) => link.setUntracked(v),\n                merge: (v) => link.mergeUntracked(v)\n            }\n        }\n    }\n    return {\n        id: PluginID,\n        create: () => ({})\n    }\n}\n"],"names":[],"mappings":";;AASA,IAAM,QAAQ,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC;SAIrB,SAAS,CAAI,KAA+B;IACxD,IAAI,KAAK,EAAE;QACP,IAAI,KAAK,CAAC,aAAa,CAAC,EAAE;YACtB,IAAM,EAAE,GAAG,KAAiB,CAAC;YACvB,IAAA,KAAgB,EAAE,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAxC,EAAC,QAAA,EAAE,UAAQ,QAA6B,CAAC;YAChD,OAAO;gBACH,GAAG,EAAE,cAAM,OAAA,UAAQ,CAAC,YAAY,EAAE,GAAA;gBAClC,GAAG,EAAE,UAAC,CAAC,IAAK,OAAA,UAAQ,CAAC,YAAY,CAAC,CAAC,CAAC,GAAA;gBACpC,KAAK,EAAE,UAAC,CAAC,IAAK,OAAA,UAAQ,CAAC,cAAc,CAAC,CAAC,CAAC,GAAA;aAC3C,CAAA;SAEJ;aAAM;YACH,IAAM,MAAI,GAAI,KAAsB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;YACvD,OAAO;gBACH,GAAG,EAAE,cAAM,OAAA,MAAI,CAAC,YAAY,EAAE,GAAA;gBAC9B,GAAG,EAAE,UAAC,CAAC,IAAK,OAAA,MAAI,CAAC,YAAY,CAAC,CAAC,CAAC,GAAA;gBAChC,KAAK,EAAE,UAAC,CAAC,IAAK,OAAA,MAAI,CAAC,cAAc,CAAC,CAAC,CAAC,GAAA;aACvC,CAAA;SACJ;KACJ;IACD,OAAO;QACH,EAAE,EAAE,QAAQ;QACZ,MAAM,EAAE,cAAM,QAAC,EAAE,IAAC;KACrB,CAAA;AACL;;;;"}