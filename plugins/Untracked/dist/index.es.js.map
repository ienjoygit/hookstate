{"version":3,"file":"index.es.js","sources":["../src/Untracked.ts"],"sourcesContent":["\r\nimport { Plugin, SetPartialStateAction, State } from '@hookstate/core';\r\n\r\nexport interface UntrackedExtensions<S> {\r\n    get(): S;\r\n    set(newValue: React.SetStateAction<S>): void;\r\n    merge(mergeValue: SetPartialStateAction<S>): void;\r\n}\r\n\r\nconst PluginID = Symbol('Untracked');\r\nexport function Untracked(): Plugin;\r\nexport function Untracked<S>($this: State<S>): UntrackedExtensions<S>;\r\nexport function Untracked<S>($this?: State<S>): Plugin | UntrackedExtensions<S> {\r\n    if ($this) {\r\n        const th = $this as State<S>;\r\n        const [_, controls] = th.attach(PluginID);\r\n        return {\r\n            get: () => controls.getUntracked(),\r\n            set: (v) => controls.setUntracked(v),\r\n            merge: (v) => controls.mergeUntracked(v)\r\n        }            \r\n    }\r\n    return {\r\n        id: PluginID,\r\n        init: () => ({})\r\n    }\r\n}\r\n"],"names":[],"mappings":"AASA,IAAM,QAAQ,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC;AAG/B,SAAU,SAAS,CAAI,KAAgB,EAAA;AACzC,IAAA,IAAI,KAAK,EAAE;QACP,IAAM,EAAE,GAAG,KAAiB,CAAC;AACvB,QAAA,IAAA,EAAgB,GAAA,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAA,CAAjC,EAAA,CAAA,CAAA,CAAA,CAAE,KAAA,UAAQ,SAAwB;QAC1C,OAAO;YACH,GAAG,EAAE,cAAM,OAAA,UAAQ,CAAC,YAAY,EAAE,GAAA;AAClC,YAAA,GAAG,EAAE,UAAC,CAAC,EAAA,EAAK,OAAA,UAAQ,CAAC,YAAY,CAAC,CAAC,CAAC,CAAA,EAAA;AACpC,YAAA,KAAK,EAAE,UAAC,CAAC,EAAA,EAAK,OAAA,UAAQ,CAAC,cAAc,CAAC,CAAC,CAAC,CAAA,EAAA;SAC3C,CAAA;AACJ,KAAA;IACD,OAAO;AACH,QAAA,EAAE,EAAE,QAAQ;AACZ,QAAA,IAAI,EAAE,YAAM,EAAA,QAAC,EAAE,IAAC;KACnB,CAAA;AACL;;;;"}