{"version":3,"file":"index.js","sources":["../src/Labelled.ts"],"sourcesContent":["import { Plugin, PluginCallbacks, State } from '@hookstate/core';\n\nconst LabelledID = Symbol('Labelled');\n\n/**\n * A plugin which allows to assign a label to a state.\n * It can be used by other extensions, like development tools or\n * plugins persisting a state.\n */\nexport function Labelled(label: string): () => Plugin;\n/**\n * A plugin which allows to assign a label to a state.\n * It can be used by other extensions, like development tools or\n * plugins persisting a state.\n */\nexport function Labelled<S>(link: State<S>): string | undefined;\nexport function Labelled<S>(labelOrLink: string | State<S>):\n    (() => Plugin) | string | undefined {\n        \n    if (typeof labelOrLink === 'string') {\n        const label = labelOrLink;\n        return () => ({\n            id: LabelledID,\n            init: () => {\n                return ({\n                    label: label\n                } as PluginCallbacks);\n            }\n        })\n    }\n    const th = labelOrLink as State<S>;\n    const [plugin] = th.attach(LabelledID);\n    if (plugin instanceof Error) {\n        return undefined;\n    }\n    return (plugin as { label: string }).label;\n}"],"names":[],"mappings":";;;;AAEA,IAAM,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;SActB,QAAQ,CAAI,WAA8B;IAGtD,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE;QACjC,IAAM,OAAK,GAAG,WAAW,CAAC;QAC1B,OAAO,cAAM,QAAC;YACV,EAAE,EAAE,UAAU;YACd,IAAI,EAAE;gBACF,OAAQ;oBACJ,KAAK,EAAE,OAAK;iBACK,CAAC;aACzB;SACJ,IAAC,CAAA;KACL;IACD,IAAM,EAAE,GAAG,WAAuB,CAAC;IAC5B,IAAA,MAAM,GAAI,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,GAAzB,CAA0B;IACvC,IAAI,MAAM,YAAY,KAAK,EAAE;QACzB,OAAO,SAAS,CAAC;KACpB;IACD,OAAQ,MAA4B,CAAC,KAAK,CAAC;AAC/C;;;;"}