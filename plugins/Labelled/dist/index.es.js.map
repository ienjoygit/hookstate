{"version":3,"file":"index.es.js","sources":["../src/Labelled.ts"],"sourcesContent":["import { StateLink, Plugin, StateValueAtPath, PluginCallbacks } from '@hookstate/core';\n\nconst LabelledID = Symbol('Labelled');\n\n/**\n * A plugin which allows to assign a label to a state.\n * It can be used by other extensions, like development tools or\n * plugins persisting a state.\n *\n * For example:\n *\n * ```tsx\n * const globalState = createStateLink(someLargeObject as object,\n *     [Labelled('my-state-label')]) // label the state very early\n * const MyComponent = () => {\n *     const state = useStateLink(globalState)\n *     console.log('state label', Labelled(state))\n *     return <>{JSON.stringify(state.value)}</>\n * }\n * ```\n */\nexport function Labelled(label: string): () => Plugin;\n/**\n * A plugin which allows to assign a label to a state.\n * It can be used by other extensions, like development tools or\n * plugins persisting a state.\n *\n * For example:\n *\n * ```tsx\n * const MyComponent = () => {\n *     const state = useStateLink(globalState, [Labelled('my-state-label')])\n *     console.log('state label', Labelled(state))\n *     return <>{JSON.stringify(state.value)}</>\n * }\n * ```\n */\nexport function Labelled(link: StateLink<StateValueAtPath>): string | undefined;\nexport function Labelled(labelOrLink: string | StateLink<StateValueAtPath>): (() => Plugin) | string | undefined {\n    if (typeof labelOrLink === 'string') {\n        const label = labelOrLink;\n        return () => ({\n            id: LabelledID,\n            create: () => {\n                return ({\n                    label: label\n                } as PluginCallbacks);\n            }\n        })\n    }\n    const plugin = labelOrLink.with(LabelledID, () => undefined);\n    return plugin && (plugin[1] as { label: string }).label;\n}"],"names":[],"mappings":"AAEA,IAAM,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;SAoCtB,QAAQ,CAAC,WAAiD;IACtE,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE;QACjC,IAAM,OAAK,GAAG,WAAW,CAAC;QAC1B,OAAO,cAAM,QAAC;YACV,EAAE,EAAE,UAAU;YACd,MAAM,EAAE;gBACJ,OAAQ;oBACJ,KAAK,EAAE,OAAK;iBACK,CAAC;aACzB;SACJ,IAAC,CAAA;KACL;IACD,IAAM,MAAM,GAAG,WAAW,CAAC,IAAI,CAAC,UAAU,EAAE,cAAM,OAAA,SAAS,GAAA,CAAC,CAAC;IAC7D,OAAO,MAAM,IAAK,MAAM,CAAC,CAAC,CAAuB,CAAC,KAAK,CAAC;AAC5D;;;;"}