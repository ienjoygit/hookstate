{"version":3,"file":"index.es.js","sources":["../src/Labelled.ts"],"sourcesContent":["import { Plugin, PluginCallbacks, State } from '@hookstate/core';\r\n\r\nconst LabelledID = Symbol('Labelled');\r\n\r\n/**\r\n * A plugin which allows to assign a label to a state.\r\n * It can be used by other extensions, like development tools or\r\n * plugins persisting a state.\r\n */\r\nexport function Labelled(label: string): () => Plugin;\r\n/**\r\n * A plugin which allows to assign a label to a state.\r\n * It can be used by other extensions, like development tools or\r\n * plugins persisting a state.\r\n */\r\nexport function Labelled<S>(link: State<S>): string | undefined;\r\nexport function Labelled<S>(labelOrLink: string | State<S>):\r\n    (() => Plugin) | string | undefined {\r\n        \r\n    if (typeof labelOrLink === 'string') {\r\n        const label = labelOrLink;\r\n        return () => ({\r\n            id: LabelledID,\r\n            init: () => {\r\n                return ({\r\n                    label: label\r\n                } as PluginCallbacks);\r\n            }\r\n        })\r\n    }\r\n    const th = labelOrLink as State<S>;\r\n    const [plugin] = th.attach(LabelledID);\r\n    if (plugin instanceof Error) {\r\n        return undefined;\r\n    }\r\n    return (plugin as { label: string }).label;\r\n}"],"names":[],"mappings":"AAEA,IAAM,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;SActB,QAAQ,CAAI,WAA8B;IAGtD,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE;QACjC,IAAM,OAAK,GAAG,WAAW,CAAC;QAC1B,OAAO,cAAM,QAAC;YACV,EAAE,EAAE,UAAU;YACd,IAAI,EAAE;gBACF,OAAQ;oBACJ,KAAK,EAAE,OAAK;iBACK,CAAC;aACzB;SACJ,IAAC,CAAA;KACL;IACD,IAAM,EAAE,GAAG,WAAuB,CAAC;IAC5B,IAAA,MAAM,GAAI,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,GAAzB,CAA0B;IACvC,IAAI,MAAM,YAAY,KAAK,EAAE;QACzB,OAAO,SAAS,CAAC;KACpB;IACD,OAAQ,MAA4B,CAAC,KAAK,CAAC;AAC/C;;;;"}